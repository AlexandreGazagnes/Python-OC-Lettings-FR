version: "3.8"
services:
  web:
    build:
      context: .
      dockerfile: Dockerfile
    image: gbriche/oc-lettings-site-web
    command: gunicorn --bind 0.0.0.0:8000 oc_lettings_site.wsgi:application
    volumes:
      - .:/app
    ports:
      - "8000:8000"
    depends_on:
      - db

#   db:
#     image: postgres:13
#     environment:
#       POSTGRES_DB: your_db_name
#       POSTGRES_USER: your_db_user
#       POSTGRES_PASSWORD: your_db_password
#     volumes:
#       - pgdata:/var/lib/postgresql/data

#   nginx:
#     image: nginx:latest
#     volumes:
#       - ./nginx.conf:/etc/nginx/nginx.conf
#     ports:
#       - "80:80"
#     depends_on:
#       - web

# volumes:
#   pgdata:
